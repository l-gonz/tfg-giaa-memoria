\chapter{Experiments and validation}
\label{chap:validation}

This chapter outlines the validation process for each essential component required for the proper functioning of the entire system, ranging from initial simulation tests to comprehensive flight tests conducted on the final guidance solution. The validation process follows the order depicted in Figure \ref{fig:validation-chart}.

The first section involves testing the application in a purely simulated environment. Initially, each part is tested individually, and subsequently, the flight controller simulation of PX4 is integrated with the flight mechanics simulation in AirSim, which receives control commands and the computer vision detection software running on the received images.

Moving on to the second section, a thorough examination is conducted on the follow solution detection and guidance results to ensure that the PID controllers only generate safe velocity commands for any received image input. Additionally, their response should align with the intended movement of the vehicle. To do this, first, each of the controllers is tuned individually with the help of the SITL simulation, and then their joint response is analyzed.

Once the software adheres to the required safety parameters, the third section moves the simulation to HITL mode on the dedicated hardware that will run the actual flights. This hardware includes the dedicated autopilot board and the standalone companion computer connected to it. The main goal is to verify that all connections are functioning as expected and that the devices deliver the required performance.

Lastly, in the fourth and final section, a series of flight tests are carried out, gradually increasing in complexity. These tests span from basic manual control of the vehicle using an RC controller to fully autonomous target-following flight executing in the complete system.

\begin{figure}
  \centering
  \makebox[\textwidth][c]{
  \includegraphics[width=1.2\textwidth, keepaspectratio]{img/validation-chart.jpg}}
  \caption{Outline for the validation process}\label{fig:validation-chart}
\end{figure}

\input{files/4-validation/4.1-sitl}
\input{files/4-validation/4.2-pid}
\input{files/4-validation/4.3-hitl}
\input{files/4-validation/4.4-flight}
